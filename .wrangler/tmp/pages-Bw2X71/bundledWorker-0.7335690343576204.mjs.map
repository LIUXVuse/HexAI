{
  "version": 3,
  "sources": ["../../../_worker.js", "C:/Users/PONY/AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "C:/Users/PONY/AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-kZ3H3m/middleware-insertion-facade.js", "C:/Users/PONY/AppData/Roaming/npm/node_modules/wrangler/templates/middleware/common.ts", "../bundle-kZ3H3m/middleware-loader.entry.ts"],
  "sourceRoot": "E:\\projects\\\u97FB\u6148\\.wrangler\\tmp\\pages-Bw2X71\\bundledWorker-0.7335690343576204.mjs",
  "sourcesContent": ["// _worker.js - Modified for Bazi Analysis using Deepseek API with backend Bazi calculation\r\n\r\n// --- Bazi Calculation Logic (Simplified Example) ---\r\nconst heavenlyStems = ['\u7532', '\u4E59', '\u4E19', '\u4E01', '\u620A', '\u5DF1', '\u5E9A', '\u8F9B', '\u58EC', '\u7678'];\r\nconst earthlyBranches = ['\u5B50', '\u4E11', '\u5BC5', '\u536F', '\u8FB0', '\u5DF3', '\u5348', '\u672A', '\u7533', '\u9149', '\u620C', '\u4EA5'];\r\nconst zodiac = ['\u9F20', '\u725B', '\u864E', '\u5154', '\u9F8D', '\u86C7', '\u99AC', '\u7F8A', '\u7334', '\u96DE', '\u72D7', '\u8C6C'];\r\n\r\n// Placeholder/Simplified function for Bazi calculation.\r\n// NOTE: This is a basic example and might not be astronomically precise, especially for edge cases.\r\n// A production system would need a robust, well-tested library.\r\nfunction calculateBazi(year, month, day, hour = null) {\r\n    // Basic validation is assumed to be done before calling this function\r\n\r\n    // --- Year Pillar --- (Simplified - based on year number modulo)\r\n    const yearOffset = (year - 1984) % 60; // 1984 is \u7532\u5B50 year\r\n    const yearStemIndex = yearOffset % 10;\r\n    const yearBranchIndex = yearOffset % 12;\r\n    const yearPillar = heavenlyStems[yearStemIndex] + earthlyBranches[yearBranchIndex];\r\n\r\n    // --- Month Pillar --- (Highly Simplified - Placeholder Logic) ---\r\n    // Accurate calculation depends on Solar Terms (\u7BC0\u6C23), which is complex.\r\n    // Using a very basic placeholder based on month number.\r\n    // DO NOT USE THIS IN PRODUCTION for accurate Month Pillar.\r\n    const monthStemIndex = ((yearStemIndex % 5) * 2 + (month - 1)) % 10; // Simplified formula\r\n    const monthBranchIndex = (month + 1) % 12; //\u5BC5 starts month 1, so offset (index 2)\r\n    const monthPillar = heavenlyStems[monthStemIndex] + earthlyBranches[monthBranchIndex];\r\n\r\n    // --- Day Pillar --- (Highly Simplified - Placeholder Logic) ---\r\n    // Accurate calculation requires complex day counting from a reference point.\r\n    // Using a placeholder based on day number. VERY INACCURATE.\r\n    // DO NOT USE THIS IN PRODUCTION for accurate Day Pillar.\r\n    const totalDays = (year - 1900) * 365 + Math.floor((year - 1900) / 4) + day; // Rough estimate\r\n    const dayStemIndex = (totalDays + 4) % 10; // Example offset\r\n    const dayBranchIndex = (totalDays + 10) % 12; // Example offset\r\n    const dayPillar = heavenlyStems[dayStemIndex] + earthlyBranches[dayBranchIndex];\r\n\r\n    // --- Hour Pillar --- (Simplified based on Day Stem)\r\n    let hourPillar = null;\r\n    if (hour !== null) {\r\n        const hourNum = Math.floor(hour / 2); // Convert HHMM to 2-hour block index (0-11)\r\n        const hourBranchIndex = hourNum;\r\n        // Hour Stem depends on Day Stem (\u7532\u5DF1\u8D77\u7532\u5B50, \u4E59\u5E9A\u8D77\u4E19\u5B50, ...)\r\n        const hourStemStartOffset = [0, 2, 4, 6, 8]; // \u7532, \u4E19, \u620A, \u5E9A, \u58EC\r\n        const dayStemGroup = Math.floor(dayStemIndex / 2); // 0 for \u7532/\u4E59, 1 for \u4E19/\u4E01 etc.\r\n        const hourStemBase = hourStemStartOffset[dayStemGroup];\r\n        const hourStemIndex = (hourStemBase + hourBranchIndex) % 10;\r\n        hourPillar = heavenlyStems[hourStemIndex] + earthlyBranches[hourBranchIndex];\r\n    }\r\n\r\n    return {\r\n        yearPillar,\r\n        monthPillar,\r\n        dayPillar,\r\n        hourPillar // Will be null if hour is not provided\r\n    };\r\n}\r\n// --- End of Bazi Calculation Logic ---\r\n\r\n\r\n// Helper function to format response for frontend (Simplified)\r\nfunction formatResponse(content, role = \"assistant\", finish_reason = \"stop\") {\r\n  const finalContent = typeof content === 'string' ? content : '(\u65E0\u6548\u7684\u56DE\u61C9\u5185\u5BB9)';\r\n  return {\r\n    choices: [\r\n      {\r\n        message: { role, content: finalContent },\r\n        finish_reason,\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\n// --- Deepseek Interaction --- (No changes needed in the function itself initially)\r\nasync function callDeepseek(apiKey, messages) {\r\n    const DEEPSEEK_API_URL = \"https://api.deepseek.com/chat/completions\";\r\n    console.log(\"[Worker Deepseek] Calling Deepseek API...\");\r\n\r\n    // The system prompt is now part of the 'messages' passed in\r\n    console.log(\"[Worker Deepseek DEBUG] Messages being sent (including system prompt):\", JSON.stringify(messages, null, 2));\r\n\r\n    const payload = {\r\n        model: \"deepseek-chat\", // Use the desired Deepseek model\r\n        messages: messages,\r\n        stream: false // Keep non-streaming for this use case for simplicity\r\n    };\r\n\r\n    const response = await fetch(DEEPSEEK_API_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${apiKey}`\r\n        },\r\n        body: JSON.stringify(payload)\r\n    });\r\n\r\n    console.log(`[Worker Deepseek] Received response status from Deepseek: ${response.status}`);\r\n\r\n    if (!response.ok) {\r\n        let errorBody = \"(Failed to read Deepseek error body)\";\r\n        try { errorBody = await response.text(); } catch (e) { /* ignore */ }\r\n        console.error(`[Worker Deepseek] Deepseek API Error: ${response.status}. Body: ${errorBody}`);\r\n        // Throw an error with a user-friendly message if possible\r\n        let userError = `Deepseek API \u8ACB\u6C42\u5931\u6557 (\u72C0\u614B\u78BC: ${response.status})\u3002`;\r\n        if (errorBody.includes(\"insufficient_quota\")) {\r\n            userError = \"Deepseek API \u984D\u5EA6\u4E0D\u8DB3\uFF0C\u8ACB\u6AA2\u67E5\u60A8\u7684\u5E33\u6236\u3002\";\r\n        }\r\n        throw new Error(userError);\r\n    }\r\n\r\n    const result = await response.json();\r\n    console.log(\"[Worker Deepseek DEBUG] Parsed Deepseek JSON result:\", JSON.stringify(result).substring(0, 500) + '...');\r\n\r\n    // Extract the actual response content\r\n     if (result.choices && result.choices[0] && result.choices[0].message && result.choices[0].message.content) {\r\n         return result.choices[0].message.content;\r\n     } else {\r\n         console.warn(\"[Worker Deepseek DEBUG] Could not find expected content in Deepseek JSON response.\");\r\n         throw new Error(\"Deepseek \u56DE\u61C9\u683C\u5F0F\u4E0D\u7B26\u9810\u671F\uFF0C\u7121\u6CD5\u63D0\u53D6\u5206\u6790\u7D50\u679C\u3002\");\r\n     }\r\n}\r\n\r\n\r\n/**\r\n * Handles Bazi analysis requests.\r\n */\r\nasync function handleAnalysisRequest(request, env) {\r\n    console.log(\"[Worker Request] Entering handleAnalysisRequest...\");\r\n    let requestBody;\r\n    try {\r\n        requestBody = await request.json();\r\n        console.log(\"[Worker Request DEBUG] Parsed request body:\", requestBody);\r\n    } catch (e) {\r\n        console.error(\"[Worker Request] Invalid JSON in request body:\", e);\r\n        return new Response(JSON.stringify({ error: \"\u65E0\u6548\u7684 JSON \u8BF7\u6C42\u4F53\" }), { status: 400, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n\r\n    // --- Extract and Validate Input Data --- //\r\n    const { year, month, day, time, location } = requestBody;\r\n\r\n    if (!year || !month || !day) {\r\n        console.error(\"[Worker Request] Missing required fields (year, month, day).\", requestBody);\r\n        return new Response(JSON.stringify({ error: \"\u7F3A\u5C11\u5FC5\u586B\u6B04\u4F4D\uFF1A\u897F\u5143\u5E74\u3001\u6708\u3001\u65E5\u3002\" }), { status: 400, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n\r\n    // Basic validation (can be more sophisticated)\r\n    if (isNaN(parseInt(year)) || parseInt(year) < 1900 || parseInt(year) > new Date().getFullYear() + 1) {\r\n        return new Response(JSON.stringify({ error: \"\u7121\u6548\u7684\u897F\u5143\u5E74\u4EFD\u3002\" }), { status: 400, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n     if (isNaN(parseInt(month)) || parseInt(month) < 1 || parseInt(month) > 12) {\r\n        return new Response(JSON.stringify({ error: \"\u7121\u6548\u7684\u6708\u4EFD\u3002\" }), { status: 400, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n    if (isNaN(parseInt(day)) || parseInt(day) < 1 || parseInt(day) > 31) { // Basic check, could improve based on month/year\r\n        return new Response(JSON.stringify({ error: \"\u7121\u6548\u7684\u65E5\u671F\u3002\" }), { status: 400, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n    // Optional validation for time format (HHMM)\r\n    if (time && !/^(?:[01]\\d|2[0-3])(?:[0-5]\\d)$/.test(time)) {\r\n         return new Response(JSON.stringify({ error: \"\u7121\u6548\u7684\u6642\u9593\u683C\u5F0F\uFF0C\u8ACB\u4F7F\u7528 HHMM (\u4F8B\u5982 1430)\u3002\" }), { status: 400, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n\r\n    // --- Time Handling --- //\r\n    let hour = null;\r\n    let birthTimeValue = time; // Assuming time is passed as '2300', '0100' etc. or null\r\n    if (birthTimeValue && /^(?:[01]\\d|2[0-3])(?:[0-5]\\d)$/.test(birthTimeValue)) {\r\n       // Convert HHMM string (like '2300' or '0100' from select) to hour index for calculation\r\n       const hourDigits = parseInt(birthTimeValue.substring(0, 2));\r\n       hour = hourDigits;\r\n       // Adjust for \u5B50\u6642 spanning across midnight if needed by the library/logic\r\n       if (hour === 23) { /* Potentially handle late rat hour if logic requires */ }\r\n    } else {\r\n        birthTimeValue = null; // Clear invalid time format if any\r\n    }\r\n\r\n    // --- Get Environment Variables --- //\r\n    const { DEEPSEEK_API_KEY } = env;\r\n    console.log(`[Worker ENV DEBUG] DEEPSEEK_API_KEY: ${DEEPSEEK_API_KEY ? 'Loaded' : 'MISSING!'}`);\r\n\r\n    if (!DEEPSEEK_API_KEY) {\r\n        console.error(\"[Worker ENV] DEEPSEEK_API_KEY is missing.\");\r\n        return new Response(JSON.stringify({ error: \"\u5F8C\u7AEF Deepseek API \u91D1\u9470\u672A\u8A2D\u5B9A\" }), { status: 500, headers: { \"Content-Type\": \"application/json\" } });\r\n    }\r\n\r\n    // --- Calculate Bazi Pillars --- //\r\n    console.log(`[Worker Logic] Calculating Bazi for: ${year}-${month}-${day} ${hour !== null ? `Hour: ${hour}`: '(Hour unknown)'}`);\r\n    const baziResult = calculateBazi(parseInt(year), parseInt(month), parseInt(day), hour);\r\n    console.log(\"[Worker Logic DEBUG] Calculated Bazi Pillars:\", baziResult);\r\n\r\n    // --- Construct Bazi String for Prompt --- //\r\n    let baziString = `\u5E74\u67F1\uFF1A${baziResult.yearPillar}\uFF0C\u6708\u67F1\uFF1A${baziResult.monthPillar}\uFF0C\u65E5\u67F1\uFF1A${baziResult.dayPillar}`;\r\n    if (baziResult.hourPillar) {\r\n        baziString += `\uFF0C\u6642\u67F1\uFF1A${baziResult.hourPillar}`;\r\n    } else {\r\n        baziString += \"\uFF08\u6642\u8FB0\u672A\u77E5\uFF09\";\r\n    }\r\n\r\n    // --- Construct the Prompt for Deepseek --- //\r\n    // Map HHMM time values to Shichen (\u6642\u8FB0) names and ranges for the prompt\r\n    const shichenMap = {\r\n        \"2300\": \"\u5B50\u6642 (23:00 - 00:59)\",\r\n        \"0100\": \"\u4E11\u6642 (01:00 - 02:59)\",\r\n        \"0300\": \"\u5BC5\u6642 (03:00 - 04:59)\",\r\n        \"0500\": \"\u536F\u6642 (05:00 - 06:59)\",\r\n        \"0700\": \"\u8FB0\u6642 (07:00 - 08:59)\",\r\n        \"0900\": \"\u5DF3\u6642 (09:00 - 10:59)\",\r\n        \"1100\": \"\u5348\u6642 (11:00 - 12:59)\",\r\n        \"1300\": \"\u672A\u6642 (13:00 - 14:59)\",\r\n        \"1500\": \"\u7533\u6642 (15:00 - 16:59)\",\r\n        \"1700\": \"\u9149\u6642 (17:00 - 18:59)\",\r\n        \"1900\": \"\u620C\u6642 (19:00 - 20:59)\",\r\n        \"2100\": \"\u4EA5\u6642 (21:00 - 22:59)\"\r\n    };\r\n\r\n    // Construct time string for the prompt\r\n    let timeStringForPrompt = \"(\u6642\u8FB0\u672A\u77E5)\";\r\n    if (birthTimeValue && shichenMap[birthTimeValue]) {\r\n        timeStringForPrompt = shichenMap[birthTimeValue];\r\n    } else if (birthTimeValue) {\r\n        timeStringForPrompt = `\u5927\u7D04 ${birthTimeValue.substring(0, 2)} \u6642 ${birthTimeValue.substring(2)} \u5206`;\r\n    }\r\n\r\n    // --- Updated System Prompt --- //\r\n    const systemPrompt = `\u4F60\u662F\u4E00\u4F4D\u5E36\u9EDE\u795E\u79D8\u6C23\u8CEA\u53C8\u53CB\u5584\u7684\u547D\u7406\u5C0F\u52A9\u624B\uD83D\uDD2E\uFF0C\u7CBE\u901A\u7E41\u9AD4\u4E2D\u6587\u548C\u56DB\u67F1\u516B\u5B57\u89E3\u8B80\u3002\u4F60\u7684\u4EFB\u52D9\u662F\u6839\u64DA\u6211\u63D0\u4F9B\u7684\u4F7F\u7528\u8005\u516B\u5B57\u8CC7\u8A0A\uFF0C\u7528\u6EAB\u99A8\u6709\u8DA3\u3001\u5076\u723E\u5E36\u9EDE\u5C0F\u5E7D\u9ED8\u7684\u8A9E\u6C23\uFF0C\u5206\u6790\u4ED6\u5011\u7684\u516B\u5B57\u4E94\u884C\uFF0C\u4E26\u63A8\u85A6\u958B\u904B\u6C34\u6676\u624B\u4E32\u3002\r\n\r\n**\u4F7F\u7528\u8005\u57FA\u672C\u8CC7\u6599** (\u50C5\u4F9B\u53C3\u8003\uFF0C\u4E3B\u8981\u4F9D\u64DA\u4E0B\u65B9\u516B\u5B57\u5206\u6790)\uFF1A\r\n*   \u897F\u5143\u751F\u65E5\uFF1A${year} \u5E74 ${month} \u6708 ${day} \u65E5\r\n*   \u51FA\u751F\u6642\u8FB0\uFF1A${timeStringForPrompt}\r\n${location ? `*   \u51FA\u751F\u5730\u9EDE\uFF1A${location}\\n`: ''}\r\n**\u5DF2\u7B97\u51FA\u7684\u56DB\u67F1\u516B\u5B57**\uFF1A\r\n*   **${baziString}**\r\n\r\n\u8ACB**\u6839\u64DA\u4EE5\u4E0A\u63D0\u4F9B\u7684\u56DB\u67F1\u516B\u5B57**\uFF0C\u6309\u7167\u4EE5\u4E0B\u9B54\u6CD5\u6B65\u9A5F\u9032\u884C\u5206\u6790\uFF0C\u4E26\u7528\u81EA\u7136\u6D41\u66A2\u7684\u6587\u5B57\u548C\u6EAB\u99A8\u53EF\u611B\u7684 emoji \u2728\uD83C\uDF38\uD83D\uDC8E \u4F86\u5448\u73FE\u7D50\u679C\uFF0C\u907F\u514D\u4F7F\u7528\u751F\u786C\u7684 '###' \u6A19\u984C\u548C\u904E\u591A\u7684 '**' \u7C97\u9AD4\uFF1A\r\n\r\n1.  \u57FA\u65BC\u63D0\u4F9B\u7684\u516B\u5B57 **${baziString}**\uFF0C\u7528\u6DFA\u986F\u6613\u61C2\u7684\u65B9\u5F0F\uFF0C\u9EDE\u51FA\u547D\u76E4\u4E2D\u4E94\u884C\uFF08\u91D1\u6728\u6C34\u706B\u571F\uFF09\u7684\u6578\u91CF\u548C\u5927\u81F4\u5F37\u5F31\u60C5\u6CC1\uFF0C\u4E0D\u7528\u592A\u5B78\u8853\u5316\u3002\r\n2.  \u6839\u64DA\u5B50\u5E73\u516B\u5B57\u7406\u8AD6\uFF0C\u627E\u51FA\u547D\u76E4\u4E2D\u6700\u9700\u8981\u300C\u547C\u559A\u300D\u6216\u300C\u88DC\u5145\u300D\u7684\u90A3\u500B\u4E94\u884C\u80FD\u91CF\u3002\u76F4\u63A5\u544A\u8A34\u4F7F\u7528\u8005\u662F\u54EA\u500B\u3002\r\n3.  \u91DD\u5C0D\u9700\u8981\u88DC\u5145\u7684\u4E94\u884C\uFF0C\u5C31\u50CF\u63A8\u85A6\u597D\u670B\u53CB\u4E00\u6A23\uFF0C\u63A8\u85A6 3 \u5230 5 \u7A2E\u4E3B\u8981\u7684\u6C34\u6676\u624B\u4E32\u6750\u8CEA\u3002\u5047\u5982\u7F3A\u59311\u7A2E\u4E94\u884C\u5C31\u63A8\u85A63-5\u7A2E\u3001\u5047\u5982\u7F3A\u59312\u7A2E\u4E94\u884C\u5C31\u6839\u64DA\u7F3A\u5931\u76842\u7A2E\u4E94\u884C\u505A\u5206\u5225\u7684\u63A8\u85A63-5\u7A2E\u8207\u6DF7\u548C\u63A8\u85A6\u4E5F\u662F\u63A8\u85A62-4\u7A2E\r\n\u3002\u8981\u8AAA\u660E\u9019\u500B\u6750\u8CEA\u5C6C\u65BC\u54EA\u7A2E\u4E94\u884C\uFF0C\u4EE5\u53CA\u70BA\u4EC0\u9EBC\u5B83\u5F88\u68D2\uFF08\u4F8B\u5982\uFF1A\u9EC3\u6C34\u6676\u662F\u571F\u7CFB\u5C0F\u53EF\u611B\uFF0C\u53EF\u4EE5\u5E36\u4F86\u7A69\u5B9A\u529B\u91CF\uFF1B\u8349\u8393\u6676\u662F\u706B\u7CFB\u5C0F\u592A\u967D\uFF0C\u80FD\u9EDE\u71C3\u71B1\u60C5\uD83D\uDD25\uFF09\u3002\r\n4.  \u6700\u5F8C\uFF0C\u7528\u6EAB\u6696\u9F13\u52F5\u7684\u8A9E\u6C23\u505A\u500B\u7E3D\u7D50\uFF0C\u63D0\u9192\u9019\u4E9B\u5EFA\u8B70\u662F\u589E\u52A0\u751F\u6D3B\u60C5\u8DA3\u548C\u4FE1\u5FC3\u7684\u53C3\u8003\uFF0C\u4E26\u9001\u4E0A\u795D\u798F\u3002\r\n\r\n\u8ACB\u5C07\u5206\u6790\u7D50\u679C\u548C\u5EFA\u8B70\u6574\u5408\u70BA\u4E00\u6BB5\u81EA\u7136\u3001\u6EAB\u99A8\u4E14\u5E36\u9EDE\u795E\u79D8\u611F\u7684\u5B8C\u6574\u56DE\u8986\uFF0C\u8A18\u5F97\u591A\u7528\u9EDE\u53EF\u611B\u7684 emoji \u5594\uFF01`;\r\n\r\n    // Prepare messages for Deepseek\r\n    const messagesForDeepseek = [\r\n        { role: \"system\", content: systemPrompt },\r\n        // No separate user message needed as context is in system prompt\r\n    ];\r\n\r\n    console.log(`[Worker Logic] Constructed System Prompt for Deepseek (length: ${systemPrompt.length})`);\r\n\r\n    // --- Call Deepseek API --- //\r\n    try {\r\n        console.log(\"[Worker Logic] Calling Deepseek for Bazi interpretation...\");\r\n        const deepseekAnswer = await callDeepseek(DEEPSEEK_API_KEY, messagesForDeepseek);\r\n\r\n        // Format and return Deepseek response\r\n        console.log(`[Worker Logic DEBUG] Received Deepseek analysis (length: ${deepseekAnswer.length})`);\r\n        const formattedResponse = formatResponse(deepseekAnswer);\r\n        console.log(\"[Worker Logic DEBUG] Sending formatted Deepseek response to client.\");\r\n        return new Response(JSON.stringify(formattedResponse), { status: 200, headers: { 'Content-Type': 'application/json' } });\r\n\r\n    } catch (e) {\r\n        console.error(\"[Worker Logic] FATAL Error during Deepseek API call or processing:\", e);\r\n        if (e.stack) console.error(\"[Worker Logic DEBUG] Error Stack:\", e.stack);\r\n        const errorMsg = \"\u8655\u7406\u8ACB\u6C42\u6642\u767C\u751F\u5167\u90E8\u932F\u8AA4 (Worker)\";\r\n        const errorDetail = e.message || \"Unknown error\"; // Use the error message from callDeepseek\r\n        // Return error in the same format as successful response for consistency\r\n        const errorResponse = formatResponse(`\u5206\u6790\u5931\u6557\uFF1A${errorDetail}`, \"assistant\", \"error\");\r\n        return new Response(JSON.stringify(errorResponse), { status: 500, headers: { 'Content-Type': 'application/json' } });\r\n    }\r\n}\r\n\r\n// _worker.js entry point\r\nexport default {\r\n  async fetch(request, env, ctx) {\r\n    const url = new URL(request.url);\r\n    const pathname = url.pathname;\r\n    const method = request.method;\r\n\r\n    console.log(`[Worker Entry] Request: ${method} ${pathname}`);\r\n\r\n    // API route for analysis\r\n    if (pathname === \"/api/analyze\" && method === \"POST\") {\r\n        return handleAnalysisRequest(request, env);\r\n    }\r\n\r\n    // Static assets route (serving index.html etc.)\r\n    if (method === \"GET\") {\r\n        try {\r\n            // Use the default asset handling provided by Pages\r\n            // No need to explicitly check env.ASSETS if using standard Pages build output\r\n            // Assuming index.html and other assets are in the build output directory\r\n            return env.ASSETS.fetch(request);\r\n        } catch (e) {\r\n            // Basic error handling for asset fetching\r\n             if (e.message.includes(\"Could not find asset\")) {\r\n                  console.error(`[Worker Static] Asset not found for path: ${pathname}`, e);\r\n                  // Specifically check for root path and serve index.html if not found by default routing\r\n                  if (pathname === '/' ) {\r\n                      console.warn(\"[Worker Static] Root path '/' not found, attempting to serve '/index.html'\");\r\n                      try {\r\n                          let newRequest = new Request(new URL('/index.html', request.url), request);\r\n                          return await env.ASSETS.fetch(newRequest);\r\n                      } catch (nestedError) {\r\n                           console.error(\"[Worker Static] Failed to serve '/index.html' as fallback for root.\", nestedError);\r\n                           return new Response(\"\u627E\u4E0D\u5230\u4E3B\u8981\u9801\u9762 (index.html)\", { status: 404 });\r\n                      }\r\n                  }\r\n                  return new Response(\"\u8CC7\u6E90\u672A\u627E\u5230 (Not Found)\", { status: 404 });\r\n             } else {\r\n                 console.error(`[Worker Static] Error fetching asset: ${pathname}`, e);\r\n                 return new Response(\"\u7121\u6CD5\u8B80\u53D6\u975C\u614B\u8CC7\u6E90\", { status: 500 });\r\n             }\r\n        }\r\n    }\r\n\r\n    // Other methods\r\n    console.warn(`[Worker Entry] Method ${method} not allowed for path '${pathname}'.`);\r\n    return new Response(\"\u65B9\u6CD5\u4E0D\u5141\u8A31 (Method Not Allowed)\", { status: 405 });\r\n  },\r\n};", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"E:\\\\projects\\\\\u97FB\u6148\\\\_worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\PONY\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\Users\\\\PONY\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"E:\\\\projects\\\\\u97FB\u6148\\\\_worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"E:\\\\projects\\\\\u97FB\u6148\\\\.wrangler\\\\tmp\\\\bundle-kZ3H3m\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\PONY\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"E:\\\\projects\\\\\u97FB\u6148\\\\.wrangler\\\\tmp\\\\bundle-kZ3H3m\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"E:\\\\projects\\\\\u97FB\u6148\\\\.wrangler\\\\tmp\\\\bundle-kZ3H3m\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": []
}
